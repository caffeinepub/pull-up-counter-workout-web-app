{
  "kind": "implementation_plan",
  "version": "1.0",
  "title": "Frontend: Show explicit error states instead of zero values when authenticated backend queries fail",
  "requirements": [
    {
      "id": "REQ-44",
      "summary": "Prevent authenticated backend query failures from being shown as valid 0/empty values on Counter and Stats by adding explicit error UI with Retry for Today total/goal and today stats/goal.",
      "acceptanceCriteria": [
        "When authenticated backend calls error, Counter screen shows the existing error UI (with Retry) instead of showing 0 as a normal value.",
        "When authenticated backend calls error, Stats screen shows an explicit error state (with Retry) instead of showing 0 as a normal value.",
        "Retry actions refetch the correct queries and, once the backend is healthy, show the persisted values."
      ],
      "file_operations": [
        {
          "path": "frontend/src/features/counter/CounterScreen.tsx",
          "operation": "modify",
          "description": "Tighten authenticated rendering so Today total/goal values are never presented as normal 0/empty values when the corresponding backend query is in an error state; ensure the UI prioritizes the existing explicit error blocks with Retry for authenticated users and does not render the numeric total/goal inputs in the non-error branch when the query has errored."
        },
        {
          "path": "frontend/src/features/stats/StatsView.tsx",
          "operation": "modify",
          "description": "Add explicit authenticated error presentation for goal query failures (in addition to stats failures) so the Stats screen does not imply a missing/zero goal when the goal backend call fails; ensure a Retry action refetches the correct query/queries (today stats + today goal for today, day stats for historical dates) and that error UI takes precedence over the normal stats/goal display."
        }
      ]
    }
  ]
}